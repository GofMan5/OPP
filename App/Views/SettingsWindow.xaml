<Window x:Class="App.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:App.Views"
        mc:Ignorable="d"
        Title="Настройки" 
        Height="560" Width="780"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent">
        
    <Window.Resources>
        <!-- Стили для кнопок управления окном -->
        <Style x:Key="WindowControlButton" TargetType="Button">
            <Setter Property="Width" Value="30"/>
            <Setter Property="Height" Value="30"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Opacity" Value="0.8"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="ButtonBorder" 
                                Background="{TemplateBinding Background}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                CornerRadius="4"
                                Padding="7">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="#313244"/>
                                <Setter Property="Opacity" Value="1"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="#45475a"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Шаблон для кнопки ComboBox -->
        <ControlTemplate x:Key="ComboBoxToggleButtonTemplate" TargetType="ToggleButton">
            <Border x:Name="ToggleBorder" Background="Transparent" BorderThickness="0">
                <ContentPresenter/>
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter TargetName="ToggleBorder" Property="Background" Value="#242436"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        
        <!-- Стиль для выпадающего списка тем -->
        <Style x:Key="ModernComboBox" TargetType="ComboBox">
            <Setter Property="Background" Value="{DynamicResource BackgroundSecondaryBrush}"/>
            <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
            <Setter Property="Height" Value="36"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <Border x:Name="Border" 
                                    Background="{TemplateBinding Background}" 
                                    BorderBrush="{TemplateBinding BorderBrush}" 
                                    BorderThickness="{TemplateBinding BorderThickness}" 
                                    CornerRadius="6">
                                <Grid>
                                    <ToggleButton x:Name="ToggleButton" 
                                                 ClickMode="Press" 
                                                 Focusable="False"
                                                 IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" 
                                                 Template="{StaticResource ComboBoxToggleButtonTemplate}"/>
                                    
                                    <ContentPresenter x:Name="ContentSite" 
                                                     Content="{TemplateBinding SelectionBoxItem}" 
                                                     ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}" 
                                                     ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}" 
                                                     IsHitTestVisible="False" 
                                                     Margin="12,0,35,0" 
                                                     VerticalAlignment="Center"/>
                                    
                                    <Path x:Name="Arrow" 
                                         Data="M0,0 L6,6 L12,0" 
                                         Fill="{DynamicResource ForegroundBrush}" 
                                         HorizontalAlignment="Right" 
                                         Margin="0,0,12,0" 
                                         VerticalAlignment="Center"/>
                                    
                                    <Popup x:Name="Popup" 
                                          AllowsTransparency="True" 
                                          Focusable="False" 
                                          IsOpen="{TemplateBinding IsDropDownOpen}" 
                                          Placement="Bottom" 
                                          PopupAnimation="Slide">
                                        <Grid x:Name="DropDown" 
                                             MinWidth="{TemplateBinding ActualWidth}" 
                                             MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                            <Border x:Name="DropDownBorder" 
                                                   Background="{DynamicResource BackgroundSecondaryBrush}" 
                                                   BorderBrush="{DynamicResource BorderBrush}" 
                                                   BorderThickness="1" 
                                                   CornerRadius="6" 
                                                   Margin="0,4,0,0">
                                                <ScrollViewer Margin="0,4">
                                                    <StackPanel IsItemsHost="True"/>
                                                </ScrollViewer>
                                            </Border>
                                        </Grid>
                                    </Popup>
                                </Grid>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
                            </Trigger>
                            <Trigger Property="IsDropDownOpen" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="{DynamicResource AccentBrush}"/>
                                <Setter TargetName="Arrow" Property="Fill" Value="{DynamicResource AccentBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Стиль для элементов ComboBox -->
        <Style x:Key="ComboBoxItemStyle" TargetType="ComboBoxItem">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
            <Setter Property="Padding" Value="12,8"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBoxItem">
                        <Border x:Name="ItemBorder" 
                                Background="{TemplateBinding Background}" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ItemBorder" Property="Background" Value="{DynamicResource HighlightBrush}"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="ItemBorder" Property="Background" Value="{DynamicResource PressedBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Стиль для кнопок с закругленными углами -->
        <Style x:Key="RoundedButton" TargetType="Button">
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="ButtonBorder" 
                                Background="{TemplateBinding Background}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Opacity" Value="0.9"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Opacity" Value="0.8"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style x:Key="CloseButtonStyle" TargetType="Button" BasedOn="{StaticResource WindowControlButton}">
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#f38ba8"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#f38ba880"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <!-- Стиль для ToggleSwitch (переключателя) -->
        <Style x:Key="ModernToggleSwitch" TargetType="CheckBox">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- Задний фон переключателя -->
                            <Border x:Name="SwitchBackground" 
                                    Grid.Column="0" 
                                    Width="50" 
                                    Height="24" 
                                    CornerRadius="12" 
                                    Background="#45475a"/>
                            
                            <!-- Ползунок переключателя -->
                            <Border x:Name="SwitchThumb" 
                                    Width="20" 
                                    Height="20" 
                                    CornerRadius="10" 
                                    Background="White" 
                                    HorizontalAlignment="Left" 
                                    Margin="2,0,0,0">
                                <Border.Effect>
                                    <DropShadowEffect ShadowDepth="1" BlurRadius="2" Opacity="0.3" Color="Black"/>
                                </Border.Effect>
                            </Border>
                            
                            <!-- Текст переключателя -->
                            <ContentPresenter Grid.Column="1" 
                                             Margin="10,0,0,0" 
                                             VerticalAlignment="Center" 
                                             Content="{TemplateBinding Content}"/>
                        </Grid>
                        
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="SwitchBackground" Property="Background" Value="#7bed9f"/>
                                <Setter TargetName="SwitchThumb" Property="HorizontalAlignment" Value="Right"/>
                                <Setter TargetName="SwitchThumb" Property="Margin" Value="0,0,2,0"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="SwitchThumb" Property="Background" Value="#f8f8f2"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        
        <!-- Стиль для кнопок навигации в настройках -->
        <Style x:Key="SettingsNavButton" TargetType="Button">
            <Setter Property="Height" Value="45"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#cdd6f4"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Padding" Value="15,0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="ButtonBorder" 
                                Background="{TemplateBinding Background}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                Padding="{TemplateBinding Padding}">
                            <Grid>
                                <ContentPresenter VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="#313244"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="#45475a"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>
        
        <!-- Стиль для выбранной кнопки навигации -->
        <Style x:Key="SelectedNavButton" TargetType="Button" BasedOn="{StaticResource SettingsNavButton}">
            <Setter Property="Background" Value="#313244"/>
            <Setter Property="Foreground" Value="#cdd6f4"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>
        
        <!-- Стиль для текстовых полей -->
        <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="Background" Value="#181825"/>
            <Setter Property="Foreground" Value="#cdd6f4"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#45475a"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="Border" 
                                Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                CornerRadius="6">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                         Padding="{TemplateBinding Padding}" 
                                         VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="#7dcfff"/>
                            </Trigger>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="#7dcfff"/>
                                <Setter TargetName="Border" Property="BorderThickness" Value="1.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Стиль для кнопки Отмена -->
        <Style x:Key="CancelButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#cdd6f4"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#45475a"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" 
                                Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter x:Name="contentPresenter" 
                                             HorizontalAlignment="Center" 
                                             VerticalAlignment="Center"/>
                            <Border.Effect>
                                <DropShadowEffect ShadowDepth="0" BlurRadius="0" Opacity="0"/>
                            </Border.Effect>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#31324450"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#cba6f7"/>
                                <Setter TargetName="contentPresenter" Property="TextBlock.Foreground" Value="#f8f8f2"/>
                                <Setter TargetName="border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect ShadowDepth="0" BlurRadius="8" Opacity="0.2" Color="#cba6f7"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#45475a70"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#cba6f7"/>
                                <Setter TargetName="contentPresenter" Property="TextBlock.Foreground" Value="#f8f8f2"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Стиль для кнопки Сохранить -->
        <Style x:Key="SaveButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#7bed9f"/>
            <Setter Property="Foreground" Value="#1e1e2e"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" 
                                Background="{TemplateBinding Background}" 
                                BorderThickness="{TemplateBinding BorderThickness}" 
                                CornerRadius="8"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter x:Name="contentPresenter" 
                                             HorizontalAlignment="Center" 
                                             VerticalAlignment="Center"/>
                            <Border.Effect>
                                <DropShadowEffect ShadowDepth="0" BlurRadius="5" Opacity="0.2" Color="#000000"/>
                            </Border.Effect>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#94f2b4"/>
                                <Setter TargetName="border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect ShadowDepth="0" BlurRadius="10" Opacity="0.3" Color="#7bed9f"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#65d989"/>
                                <Setter TargetName="border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect ShadowDepth="0" BlurRadius="3" Opacity="0.1" Color="#000000"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <Border CornerRadius="12" Padding="0">
        <Border.Background>
            <DynamicResource ResourceKey="WindowBackgroundBrush" />
        </Border.Background>
        <Border.Effect>
            <DropShadowEffect BlurRadius="15" ShadowDepth="0" Opacity="0.5" Color="#121212"/>
        </Border.Effect>
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="32"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            
            <!-- Строка заголовка с кнопками управления окном -->
            <Border Grid.Row="0" Background="{DynamicResource WindowTitleBarBrush}" MouseDown="TitleBar_MouseDown" CornerRadius="12,12,0,0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="1" 
                              Text="Настройки" 
                              Foreground="{DynamicResource ForegroundBrush}" 
                              FontSize="13" 
                              FontWeight="SemiBold" 
                              HorizontalAlignment="Center" 
                              VerticalAlignment="Center"/>
                    
                    <!-- Кнопки управления окном -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,0,8,0">
                        <!-- Кнопка возврата к главному меню -->
                        <Button x:Name="BackButton" 
                                Style="{StaticResource WindowControlButton}"
                                Click="BackButton_Click"
                                Margin="3,0,3,0"
                                ToolTip="Вернуться в главное меню">
                            <Grid>
                                <TextBlock Text="&#xE72B;" 
                                          FontFamily="Segoe MDL2 Assets" 
                                          Foreground="#cdd6f4"/>
                            </Grid>
                        </Button>
                        
                        <!-- Кнопка Закрыть -->
                        <Button x:Name="CloseButton" 
                                Style="{StaticResource CloseButtonStyle}"
                                Click="CloseButton_Click"
                                ToolTip="Закрыть">
                            <Grid>
                                <Path Data="M0,0 L10,10" 
                                     Stroke="{DynamicResource ForegroundBrush}" 
                                     StrokeThickness="1.6" 
                                     StrokeStartLineCap="Round" 
                                     StrokeEndLineCap="Round"/>
                                <Path Data="M0,10 L10,0" 
                                     Stroke="{DynamicResource ForegroundBrush}" 
                                     StrokeThickness="1.6" 
                                     StrokeStartLineCap="Round" 
                                     StrokeEndLineCap="Round"/>
                            </Grid>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Основное содержимое -->
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="200"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- Левая панель (навигация по настройкам) -->
                <Border Background="{DynamicResource BackgroundSecondaryBrush}" BorderThickness="0,0,1,0" BorderBrush="{DynamicResource BorderBrush}">
                    <StackPanel Margin="0,20,0,0">
                        <Button x:Name="AppearanceButton" 
                                Style="{StaticResource SelectedNavButton}" 
                                Click="NavButton_Click"
                                Margin="0,0,0,5">
                            <StackPanel Orientation="Horizontal">
                                <Viewbox Width="22" Height="22" Margin="0,0,12,0">
                                    <Path Data="M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"
                                          Fill="{DynamicResource ForegroundBrush}" 
                                          Stretch="Uniform"/>
                                </Viewbox>
                                <TextBlock Text="Внешний вид" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        
                        <Button x:Name="GeneralButton" 
                                Style="{StaticResource SettingsNavButton}" 
                                Click="NavButton_Click"
                                Margin="0,0,0,5">
                            <StackPanel Orientation="Horizontal">
                                <Viewbox Width="22" Height="22" Margin="0,0,12,0">
                                    <Path Data="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"
                                          Fill="{DynamicResource ForegroundBrush}" 
                                          Stretch="Uniform"/>
                                </Viewbox>
                                <TextBlock Text="Общие" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        
                        <Button x:Name="UpdatesButton" 
                                Style="{StaticResource SettingsNavButton}" 
                                Click="NavButton_Click"
                                Margin="0,0,0,5">
                            <StackPanel Orientation="Horizontal">
                                <Viewbox Width="22" Height="22" Margin="0,0,12,0">
                                    <Path Data="M12 16.5l4-4h-3v-9h-2v9H8l4 4zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2z"
                                          Fill="{DynamicResource ForegroundBrush}" 
                                          Stretch="Uniform"/>
                                </Viewbox>
                                <TextBlock Text="Обновления" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                        
                        <Button x:Name="AboutButton" 
                                Style="{StaticResource SettingsNavButton}" 
                                Click="NavButton_Click"
                                Margin="0,0,0,5">
                            <StackPanel Orientation="Horizontal">
                                <Viewbox Width="22" Height="22" Margin="0,0,12,0">
                                    <Path Data="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"
                                          Fill="{DynamicResource ForegroundBrush}" 
                                          Stretch="Uniform"/>
                                </Viewbox>
                                <TextBlock Text="О программе" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Border>
                
                <!-- Содержимое настроек -->
                <Grid Grid.Column="1">
                    <!-- Панель настроек внешнего вида -->
                    <Grid x:Name="AppearancePanel" Visibility="Visible">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel Margin="30,20">
                                <TextBlock Text="Внешний вид" 
                                         FontSize="22" 
                                         FontWeight="SemiBold" 
                                         Foreground="{DynamicResource ForegroundBrush}" 
                                         Margin="0,0,0,20"/>
                                
                                <Border Background="{DynamicResource BackgroundSecondaryBrush}" CornerRadius="8" Padding="25" Margin="0,0,0,15">
                                    <StackPanel>
                                        <TextBlock Text="Темы оформления" 
                                                 FontSize="16" 
                                                 FontWeight="SemiBold" 
                                                 Foreground="{DynamicResource ForegroundBrush}" 
                                                 Margin="0,0,0,15"/>
                                        
                                        <StackPanel Margin="0,0,0,10">
                                            <TextBlock Text="Выберите тему оформления:" 
                                                     Foreground="{DynamicResource ForegroundBrush}" 
                                                     Margin="0,0,0,10"/>
                                            
                                            <!-- Комбобокс тем заменен на текст -->
                                            <TextBlock 
                                                     Text="Изменение темы будет доступно в следующих версиях"
                                                     Foreground="{DynamicResource ForegroundBrush}"
                                                     FontStyle="Italic"
                                                     Margin="0,5,0,10"/>
                                            
                                            <TextBlock x:Name="ThemeDescription" 
                                                     Text="Текущая тема: Темная" 
                                                     Foreground="{DynamicResource ForegroundBrush}" 
                                                     Margin="0,10,0,0" 
                                                     FontSize="12"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                                
                                <Border Background="{DynamicResource BackgroundSecondaryBrush}" CornerRadius="8" Padding="25" Margin="0,0,0,15">
                                    <StackPanel>
                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Анимации интерфейса" 
                                                         FontSize="16" 
                                                         FontWeight="SemiBold" 
                                                         Foreground="{DynamicResource ForegroundBrush}" 
                                                         Margin="0,0,0,5"/>
                                                <TextBlock Text="Включение/отключение анимаций интерфейса" 
                                                         Foreground="{DynamicResource ForegroundBrush}" 
                                                         FontSize="12"/>
                                            </StackPanel>
                                            
                                            <CheckBox x:Name="EnableAnimationsToggle" 
                                                     Grid.Column="1" 
                                                     Style="{StaticResource ModernToggleSwitch}" 
                                                     IsChecked="True"
                                                     Checked="AnimationsToggle_Checked" 
                                                     Unchecked="AnimationsToggle_Checked"/>
                                        </Grid>
                                        
                                        <Grid Margin="0,0,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Закругленные углы" 
                                                         FontSize="16" 
                                                         FontWeight="SemiBold" 
                                                         Foreground="{DynamicResource ForegroundBrush}" 
                                                         Margin="0,0,0,5"/>
                                                <TextBlock Text="Использование закругленных углов для элементов интерфейса" 
                                                         Foreground="{DynamicResource ForegroundBrush}" 
                                                         FontSize="12"/>
                                            </StackPanel>
                                            
                                            <CheckBox x:Name="RoundedCornersToggle" 
                                                     Grid.Column="1" 
                                                     Style="{StaticResource ModernToggleSwitch}" 
                                                     IsChecked="True"
                                                     Checked="RoundedCornersToggle_Checked" 
                                                     Unchecked="RoundedCornersToggle_Checked"/>
                                        </Grid>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                    
                    <!-- Панель общих настроек -->
                    <Grid x:Name="GeneralPanel" Visibility="Collapsed">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel Margin="30,20">
                                <TextBlock Text="Общие настройки" 
                                         FontSize="22" 
                                         FontWeight="SemiBold" 
                                         Foreground="{DynamicResource ForegroundBrush}" 
                                         Margin="0,0,0,20"/>
                                
                                <Border Background="{DynamicResource BackgroundSecondaryBrush}" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                                    <StackPanel>
                                        <TextBlock Text="Запуск приложения" 
                                                 FontSize="16" 
                                                 FontWeight="SemiBold" 
                                                 Foreground="{DynamicResource ForegroundBrush}" 
                                                 Margin="0,0,0,15"/>
                                        
                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Автозапуск при старте Windows" 
                                                         Foreground="{DynamicResource ForegroundBrush}" 
                                                         Margin="0,0,0,5"/>
                                                <TextBlock Text="Программа будет запускаться автоматически при старте Windows" 
                                                         Foreground="{DynamicResource ForegroundBrush}" 
                                                         FontSize="12"/>
                                            </StackPanel>
                                            
                                            <CheckBox x:Name="AutoStartToggle" 
                                                     Grid.Column="1" 
                                                     Style="{StaticResource ModernToggleSwitch}"
                                                     Checked="AutoStartToggle_Checked" 
                                                     Unchecked="AutoStartToggle_Checked"/>
                                        </Grid>
                                        
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Запускать свернутым" 
                                                         Foreground="{DynamicResource ForegroundBrush}" 
                                                         Margin="0,0,0,5"/>
                                                <TextBlock Text="Программа будет запускаться в свернутом состоянии" 
                                                         Foreground="{DynamicResource ForegroundBrush}" 
                                                         FontSize="12"/>
                                            </StackPanel>
                                            
                                            <CheckBox x:Name="StartMinimizedToggle" 
                                                     Grid.Column="1" 
                                                     Style="{StaticResource ModernToggleSwitch}"
                                                     Checked="StartMinimizedToggle_Checked" 
                                                     Unchecked="StartMinimizedToggle_Checked"/>
                                        </Grid>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                    
                    <!-- Панель настроек обновлений -->
                    <Grid x:Name="UpdatesPanel" Visibility="Collapsed">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel Margin="30,20">
                                <TextBlock Text="Настройки обновлений" 
                                         FontSize="22" 
                                         FontWeight="SemiBold" 
                                         Foreground="{DynamicResource ForegroundBrush}" 
                                         Margin="0,0,0,20"/>
                                
                                <Border Background="{DynamicResource BackgroundSecondaryBrush}" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                                    <StackPanel>
                                        <TextBlock Text="Автоматическое обновление" 
                                                 FontSize="16" 
                                                 FontWeight="SemiBold" 
                                                 Foreground="{DynamicResource ForegroundBrush}" 
                                                 Margin="0,0,0,15"/>
                                        
                                        <Grid Margin="0,0,0,15">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="Проверять обновления при запуске" 
                                                         Foreground="{DynamicResource ForegroundBrush}" 
                                                         Margin="0,0,0,5"/>
                                                <TextBlock Text="Программа будет проверять наличие новых версий при каждом запуске" 
                                                         Foreground="{DynamicResource ForegroundBrush}" 
                                                         FontSize="12"
                                                         TextWrapping="Wrap"/>
                                            </StackPanel>
                                            
                                            <CheckBox x:Name="CheckUpdatesToggle" 
                                                     Grid.Column="1" 
                                                     Style="{StaticResource ModernToggleSwitch}"
                                                     IsChecked="True"
                                                     Checked="CheckUpdatesToggle_Checked"
                                                     Unchecked="CheckUpdatesToggle_Checked"/>
                                        </Grid>
                                        
                                    </StackPanel>
                                </Border>
                                
                                <Border Background="{DynamicResource BackgroundSecondaryBrush}" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                                    <StackPanel>
                                        <TextBlock Text="Текущая версия" 
                                                 FontSize="16" 
                                                 FontWeight="SemiBold" 
                                                 Foreground="{DynamicResource ForegroundBrush}" 
                                                 Margin="0,0,0,15"/>
                                        
                                        <TextBlock x:Name="CurrentVersionText" 
                                                 Text="Версия 1.0.0 (стабильная)" 
                                                 Foreground="{DynamicResource ForegroundBrush}" 
                                                 Margin="0,0,0,5"/>
                                        
                                        <TextBlock x:Name="LastCheckText" 
                                                 Text="Последняя проверка обновлений: Никогда" 
                                                 Foreground="{DynamicResource ForegroundBrush}" 
                                                 Margin="0,0,0,15"/>
                                        
                                        <Button x:Name="CheckUpdateButton"
                                               Content="Проверить обновления" 
                                               Background="{DynamicResource BackgroundSecondaryBrush}" 
                                               Foreground="{DynamicResource ForegroundBrush}" 
                                               Padding="15,8" 
                                               BorderThickness="1" 
                                               BorderBrush="{DynamicResource BorderBrush}"
                                               HorizontalAlignment="Left"
                                               Click="CheckUpdateButton_Click"
                                               Style="{StaticResource RoundedButton}"/>
                                               
                                        <TextBlock x:Name="UpdateStatusText" 
                                                 Text="" 
                                                 Foreground="{DynamicResource AccentBrush}" 
                                                 Margin="0,10,0,0"
                                                 Visibility="Collapsed"/>
                                                 
                                        <ProgressBar x:Name="UpdateProgressBar"
                                                   Height="5"
                                                   Margin="0,10,0,10"
                                                   Visibility="Collapsed"
                                                   Minimum="0"
                                                   Maximum="100"
                                                   Value="0"/>
                                                   
                                        <Button x:Name="InstallUpdateButton"
                                               Content="Установить обновление" 
                                               Background="{DynamicResource AccentBrush}" 
                                               Foreground="White" 
                                               Padding="15,8" 
                                               BorderThickness="0" 
                                               HorizontalAlignment="Left"
                                               Click="InstallUpdateButton_Click"
                                               Style="{StaticResource RoundedButton}"
                                               Visibility="Collapsed"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                    
                    <!-- Панель о программе -->
                    <Grid x:Name="AboutPanel" Visibility="Collapsed">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel Margin="30,20">
                                <TextBlock Text="О программе" 
                                         FontSize="22" 
                                         FontWeight="SemiBold" 
                                         Foreground="{DynamicResource ForegroundBrush}" 
                                         Margin="0,0,0,20"/>
                                
                                <Border Background="{DynamicResource BackgroundSecondaryBrush}" CornerRadius="8" Padding="20" Margin="0,0,0,15">
                                    <StackPanel>
                                        <TextBlock Text="GofMan3 - Optimization Pack" 
                                                 FontSize="18" 
                                                 FontWeight="Bold" 
                                                 Foreground="{DynamicResource ForegroundBrush}" 
                                                 Margin="0,0,0,10"/>
                                        
                                        <TextBlock x:Name="VersionInfoText"
                                                 Text="Версия: 1.0.0" 
                                                 Foreground="{DynamicResource ForegroundBrush}" 
                                                 Margin="0,0,0,5"/>
                                        
                                        <TextBlock Text="© 2025 GofMan3. Все права защищены." 
                                                 Foreground="{DynamicResource ForegroundBrush}" 
                                                 Margin="0,0,0,15"/>
                                        
                                        <TextBlock TextWrapping="Wrap" 
                                                 Foreground="{DynamicResource ForegroundBrush}" 
                                                 Margin="0,0,0,15"
                                                 LineHeight="20">
                                            <Run FontWeight="Medium">GofMan3 Optimization Pack</Run> — это мощное приложение для оптимизации и очистки операционной системы Windows. 
                                            <LineBreak/><LineBreak/>
                                            Приложение разработано для улучшения производительности компьютера, освобождения дискового пространства и поддержания системы в оптимальном состоянии.
                                            <LineBreak/><LineBreak/>
                                            <Run FontWeight="Medium">Основные возможности:</Run>
                                            <LineBreak/> • Очистка временных файлов и системного кэша
                                            <LineBreak/> • Оптимизация процессов и служб Windows
                                            <LineBreak/> • Обнаружение и исправление ошибок системы
                                            <LineBreak/> • Управление автозагрузкой и фоновыми процессами
                                            <LineBreak/> • Персонализация настроек для максимальной производительности
                                            <LineBreak/><LineBreak/>
                                            Программа постоянно обновляется и совершенствуется для обеспечения наилучшего пользовательского опыта.
                                        </TextBlock>
                                        
                                        <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                            <Button Margin="0,0,15,0"
                                                   Background="{DynamicResource BackgroundSecondaryBrush}" 
                                                   Foreground="{DynamicResource ForegroundBrush}" 
                                                   Padding="15,8" 
                                                   BorderThickness="0" 
                                                   HorizontalAlignment="Left"
                                                   Click="OpenTelegram_Click"
                                                   Style="{StaticResource RoundedButton}">
                                                <StackPanel Orientation="Horizontal">
                                                    <Viewbox Width="20" Height="20" Margin="0,0,8,0">
                                                        <Path Data="M22.05 1.577c-.393-.016-.784.08-1.117.235-.484.186-4.92 1.902-9.41 3.64-2.26.873-4.518 1.746-6.256 2.415-1.737.67-3.045 1.168-3.114 1.192-.46.16-1.082.362-1.61.984-.133.155-.267.354-.335.628s-.077.56.01.787c.124.413.415.767.825.99.41.223 1.26.546 2.37.855 1.604.448 3.65.952 4.18 1.072.145.187.278.38.374.585.096.205.163.42.202.645.213 1.24 1.567 8.308 1.775 9.406.104.545.273 1.087.513 1.315.115.11.262.193.423.233.162.04.33.034.485-.01.312-.085.635-.358.817-.56.087-.096.244-.27.52-.562.612-.655 1.54-1.65 2.426-2.58 1.523 1.13 3.58 2.805 4.78 3.696.602.45 1.165.78 1.64.967.475.187.877.222 1.17.175.313-.05.635-.22.865-.47s.34-.578.355-.93c.01-.165.022-.334.036-.56.328-5.12.724-11.947.866-15.076.144-3.284-.055-5.27-.343-6.256-.127-.426-.326-.742-.59-.938-.264-.196-.6-.283-.915-.298zm-.533 1.57c.05.002.102.015.14.035.125.08.185.205.245.425.193.65.39 2.35.258 5.456-.132 2.954-.543 10.038-.865 15.107-.013.204-.02.337-.03.46-.01.054-.06.152-.08.174-.083.09-.22.094-.28.075-.17-.05-.5-.22-.93-.54-.97-.71-3.97-3.13-5.71-4.51l-.02-.02s-.14-.12-.33-.14c-.19-.02-.38.09-.38.09l-5.53 3.78c-.93-.81-2.76-2.48-3.79-3.44 4.55-2.72 14.95-8.98 16.21-9.73-.01-.01-.03-.02-.03-.03l-.26-.24c-.71-.7-3.97-3.96-5.39-5.42 1.21-.46 9.62-3.73 9.63-3.73.01-.01.09-.04.24-.03h.02z"
                                                              Fill="{DynamicResource ForegroundBrush}" 
                                                              Stretch="Uniform"/>
                                                    </Viewbox>
                                                    <TextBlock Text="Telegram" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </Button>
                                            
                                            <Button Background="{DynamicResource BackgroundSecondaryBrush}" 
                                                   Foreground="{DynamicResource ForegroundBrush}" 
                                                   Padding="15,8" 
                                                   BorderThickness="0" 
                                                   HorizontalAlignment="Left"
                                                   Click="OpenYouTube_Click"
                                                   Style="{StaticResource RoundedButton}">
                                                <StackPanel Orientation="Horizontal">
                                                    <Viewbox Width="20" Height="20" Margin="0,0,8,0">
                                                        <Path Data="M21.543 6.498C22 8.28 22 12 22 12s0 3.72-.457 5.502c-.254.985-.997 1.76-1.938 2.022C17.896 20 12 20 12 20s-5.893 0-7.605-.476c-.945-.266-1.687-1.04-1.938-2.022C2 15.72 2 12 2 12s0-3.72.457-5.502c.254-.985.997-1.76 1.938-2.022C6.107 4 12 4 12 4s5.896 0 7.605.476c.945.266 1.687 1.04 1.938 2.022zM10 15.5l6-3.5-6-3.5v7z"
                                                              Fill="{DynamicResource ForegroundBrush}" 
                                                              Stretch="Uniform"/>
                                                    </Viewbox>
                                                    <TextBlock Text="YouTube" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </Button>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </ScrollViewer>
                    </Grid>
                </Grid>
            </Grid>
        </Grid>
    </Border>
</Window> 